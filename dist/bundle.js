(()=>{"use strict";const t="https://notes-api.dicoding.dev/v2",e=async()=>{const n=document.getElementById("main");n.innerHTML="<div>Loading...</div>";try{const e=await(async()=>{const e=await fetch(`${t}/notes`);if(!e.ok)throw new Error("Failed to fetch notes");return e.json()})();n.innerHTML="",0===e.length?n.innerHTML="<div>No notes available</div>":e.forEach((t=>{const e=document.createElement("div");e.classList.add("note"),e.innerHTML=`\n                    <h3>${t.title}</h3>\n                    <p>${t.body}</p>\n                    <button class="delete-btn" data-id="${t.id}">Delete</button>\n                `,n.appendChild(e)}))}catch(t){console.error("Error fetching notes:",t),n.innerHTML="<div>Error fetching notes</div>"}n.addEventListener("click",(async n=>{if(n.target.classList.contains("delete-btn")){const o=n.target.dataset.id;try{await(async e=>{if(!(await fetch(`${t}/notes/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete note")})(o),e()}catch(t){console.error("Error deleting note:",t)}}}))};document.addEventListener("DOMContentLoaded",(()=>{e()}))})();